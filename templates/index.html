{% extends "base.html" %}

{% block content %}
<div class="jumbotron">
    <h1 class="display-4">Submit Your Schedule</h1>
    <p class="lead">Upload your schedule and we'll extract and verify the information for you.</p>
    <hr class="my-4">
    <form id="scheduleForm" action="/verify" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" class="form-control" id="name" name="name" required>
        </div>
        <div class="form-group">
            <label for="grade">Grade:</label>
            <select class="form-control" id="grade" name="grade" required>
                <option value="9th">9th</option>
                <option value="10th">10th</option>
                <option value="11th">11th</option>
                <option value="12th">12th</option>
            </select>
        </div>
        <div class="form-group">
            <label for="scheduleImage">Upload Schedule Image:</label>
            <input type="file" class="form-control-file" id="scheduleImage" name="scheduleImage" accept=".png, .jpg, .jpeg" required>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
    <div id="loadingSpinner" style="display:none;">
        <div class="spinner-border text-primary" role="status">
            <span class="sr-only">Loading...</span>
        </div>
        <p>Verifying schedule, please wait...</p>
    </div>
</div>

<script>
    document.getElementById('scheduleForm').onsubmit = function() {
        document.getElementById('scheduleForm').style.display = 'none';
        document.getElementById('loadingSpinner').style.display = 'block';
    };
</script>
{% endblock %}
